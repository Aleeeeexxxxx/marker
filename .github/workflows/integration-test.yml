name: integration-test

on:
  issue_comment:
    types: [created]

jobs:
  integration-test:
    if: github.event.issue.pull_request != '' && contains(github.event.comment.body, '#integration-test')
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Install xvfb
        run: sudo apt-get update && sudo apt-get install xvfb 

      - name: Run integration tests
        run: npm run integration-test